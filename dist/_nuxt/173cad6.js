(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{520:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},532:function(t,e,n){var content=n(591);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("62576fe5",content,!0,{sourceMap:!1})},533:function(t,e,n){var l=n(16),r="["+n(520)+"]",o=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),d=function(t){return function(e){var n=String(l(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},534:function(t,e,n){var content=n(593);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("3d6696ac",content,!0,{sourceMap:!1})},535:function(t,e,n){var content=n(595);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("77e3e1a2",content,!0,{sourceMap:!1})},536:function(t,e,n){var content=n(597);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("5cbf98bc",content,!0,{sourceMap:!1})},537:function(t,e,n){var content=n(599);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(35).default)("ca9146c8",content,!0,{sourceMap:!1})},559:function(t,e,n){"use strict";var l=n(8),r=n(4),o=n(113),c=n(20),d=n(11),f=n(31),h=n(232),v=n(81),m=n(5),_=n(114),x=n(82).f,y=n(30).f,C=n(14).f,z=n(533).trim,w=r.Number,I=w.prototype,N="Number"==f(_(I)),F=function(t){var e,n,l,r,o,c,d,code,f=v(t,!1);if("string"==typeof f&&f.length>2)if(43===(e=(f=z(f)).charCodeAt(0))||45===e){if(88===(n=f.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(f.charCodeAt(1)){case 66:case 98:l=2,r=49;break;case 79:case 111:l=8,r=55;break;default:return+f}for(c=(o=f.slice(2)).length,d=0;d<c;d++)if((code=o.charCodeAt(d))<48||code>r)return NaN;return parseInt(o,l)}return+f};if(o("Number",!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var k,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(N?m((function(){I.valueOf.call(n)})):"Number"!=f(n))?h(new w(F(e)),n,S):F(e)},E=l?x(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;E.length>L;L++)d(w,k=E[L])&&!d(S,k)&&C(S,k,y(w,k));S.prototype=I,I.constructor=S,c(r,"Number",S)}},590:function(t,e,n){"use strict";var l=n(532);n.n(l).a},591:function(t,e,n){(e=n(34)(!1)).push([t.i,".contianer[data-v-f3b64980]{width:1000px;margin:20px auto}.flights-content[data-v-f3b64980]{width:745px;font-size:14px}.aside[data-v-f3b64980]{width:240px}",""]),t.exports=e},592:function(t,e,n){"use strict";var l=n(534);n.n(l).a},593:function(t,e,n){(e=n(34)(!1)).push([t.i,".filters[data-v-34728d30]{margin-bottom:20px}.filters-top>div[data-v-34728d30] .el-select{margin-left:10px}.filter-cancel[data-v-34728d30]{margin-top:10px}",""]),t.exports=e},594:function(t,e,n){"use strict";var l=n(535);n.n(l).a},595:function(t,e,n){(e=n(34)(!1)).push([t.i,".flight-title[data-v-6abb06f2]{padding:0 15px;border:1px solid #ddd;background:#f6f6f6;height:38px;line-height:38px;color:#666;font-size:12px;margin-bottom:10px}.flight-title>div[data-v-6abb06f2]{text-align:center}",""]),t.exports=e},596:function(t,e,n){"use strict";var l=n(536);n.n(l).a},597:function(t,e,n){(e=n(34)(!1)).push([t.i,".flight-item[data-v-143e57ee]{border:1px solid #ddd;margin-bottom:10px}.flight-item .flight-info[data-v-143e57ee]{padding:15px;cursor:pointer}.flight-item .flight-info>div[data-v-143e57ee]:first-child,.flight-item .flight-info>div[data-v-143e57ee]:last-child{text-align:center}.flight-item .flight-info-center[data-v-143e57ee]{padding:0 30px;text-align:center}.flight-item .flight-info-center .flight-airport strong[data-v-143e57ee]{display:block;font-size:24px;font-weight:400}.flight-item .flight-info-center .flight-airport span[data-v-143e57ee]{font-size:12px;color:#999}.flight-item .flight-info-center .flight-time span[data-v-143e57ee]{display:inline-block;padding:10px 0;border-bottom:1px solid #eee;color:#999}.flight-item .flight-info-right .sell-price[data-v-143e57ee]{font-size:24px;color:orange;margin:0 2px}.flight-recommend[data-v-143e57ee]{background:#f6f6f6;border-top:1px solid #eee;padding:0 20px}.flight-recommend .flight-sell[data-v-143e57ee]{border-bottom:1px solid #eee;padding:10px 0}.flight-recommend .flight-sell[data-v-143e57ee]:last-child{border-bottom:none}.flight-recommend .flight-sell .flight-sell-left[data-v-143e57ee]{font-size:12px}.flight-recommend .flight-sell .flight-sell-left span[data-v-143e57ee]{color:green}.flight-recommend .flight-sell .price[data-v-143e57ee]{font-size:20px;color:orange}.flight-recommend .flight-sell .choose-button[data-v-143e57ee]{text-align:center;color:#666}.flight-recommend .flight-sell .choose-button button[data-v-143e57ee]{display:block;width:100%;margin-bottom:5px}",""]),t.exports=e},598:function(t,e,n){"use strict";var l=n(537);n.n(l).a},599:function(t,e,n){(e=n(34)(!1)).push([t.i,".statement[data-v-13640dc8]{border:1px solid #ddd}.statement .statement-list[data-v-13640dc8]{padding:10px 0}.statement .statement-list>div[data-v-13640dc8]{text-align:center}.statement .statement-list>div i[data-v-13640dc8]{display:block;font-size:40px}.statement .statement-list>div span[data-v-13640dc8]{font-size:12px}.statement .service-tel[data-v-13640dc8]{height:32px;line-height:32px;padding:0 10px;background:#f6f6f6;font-size:14px}.history[data-v-13640dc8]{border:1px solid #ddd;padding:10px;margin-top:10px}.history h5[data-v-13640dc8]{font-size:16px;font-weight:400;padding-bottom:10px;border-bottom:1px solid #eee}.history .history-item[data-v-13640dc8]{padding:10px 0;font-size:14px;border-bottom:1px solid #eee}.history .history-item[data-v-13640dc8]:last-child{border:none}.history .history-item .to-from[data-v-13640dc8]{margin-bottom:5px}.history .history-item p[data-v-13640dc8]{font-size:12px;color:#666}.history .history-item span[data-v-13640dc8]{color:#fff;display:block;padding:2px 10px;background:orange;border-radius:4px;font-size:12px;cursor:pointer}",""]),t.exports=e},671:function(t,e,n){"use strict";n.r(e);n(63),n(559),n(62),n(164);var l={data:function(){return{airport:"",flightTimes:"",company:"",airSize:"",sizeOptions:[{label:"大",value:"L"},{label:"中",value:"M"},{label:"小",value:"S"}]}},props:["data"],methods:{runFilters:function(){var t=this.data.flights;this.airport&&(t=this.handleAirport(t)),this.flightTimes&&(t=this.handleFlightTimes(t)),this.company&&(t=this.handleCompany(t)),this.airSize&&(t=this.handleAirSize(t)),console.log("四个过滤器检查完毕"),console.log(t),this.$emit("setFilteredList",t)},handleAirport:function(t){var e=this;return t.filter((function(t){return t.org_airport_name==e.airport}))},handleFlightTimes:function(t){console.log(this.flightTimes);var e=Number(this.flightTimes.split(",")[0]),n=Number(this.flightTimes.split(",")[1]);return t.filter((function(t){var l=Number(t.dep_time.split(":")[0]);return l>=e&&l<n}))},handleCompany:function(t){var e=this;return console.log("修改了航空公司选项"),console.log(this.company),t.filter((function(t){return t.airline_name==e.company}))},handleAirSize:function(t){var e=this;return t.filter((function(t){return t.plane_size==e.airSize}))},handleFiltersCancel:function(){}}},r=(n(592),n(19)),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filters"},[n("el-row",{staticClass:"filters-top",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{attrs:{span:8}},[t._v(" 单程： 广州 - 上海 / 2019-06-17 ")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"起飞机场"},on:{change:t.runFilters},model:{value:t.airport,callback:function(e){t.airport=e},expression:"airport"}},t._l(t.data.options.airport,(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"起飞时间"},on:{change:t.runFilters},model:{value:t.flightTimes,callback:function(e){t.flightTimes=e},expression:"flightTimes"}},t._l(t.data.options.flightTimes,(function(t,e){return n("el-option",{key:e,attrs:{label:t.from+":00 -"+t.to+":00",value:t.from+","+t.to}})})),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"航空公司"},on:{change:t.runFilters},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}},t._l(t.data.options.company,(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"机型"},on:{change:t.runFilters},model:{value:t.airSize,callback:function(e){t.airSize=e},expression:"airSize"}},t._l(t.sizeOptions,(function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),n("div",{staticClass:"filter-cancel"},[t._v("\n        筛选：\n        "),n("el-button",{attrs:{type:"primary",round:"",plain:"",size:"mini"},on:{click:t.handleFiltersCancel}},[t._v("\n            撤销\n        ")])],1)],1)}),[],!1,null,"34728d30",null);e.default=component.exports},672:function(t,e,n){"use strict";n.r(e);var l={},r=(n(594),n(19)),component=Object(r.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("el-row",{staticClass:"flight-title"},[e("el-col",{attrs:{span:5}},[this._v(" 航空信息 ")]),this._v(" "),e("el-col",{attrs:{span:14}},[e("el-row",{attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:12}},[this._v(" 起飞时间 ")]),this._v(" "),e("el-col",{attrs:{span:12}},[this._v(" 到达时间 ")])],1)],1),this._v(" "),e("el-col",{attrs:{span:5}},[this._v(" 价格 ")])],1)}),[],!1,null,"6abb06f2",null);e.default=component.exports},673:function(t,e,n){"use strict";n.r(e);n(28),n(559),n(62),n(164),n(29);var l={props:{data:{type:Object,default:function(){return{}}},isShow:Boolean},computed:{duration:function(){var t=Number(60*this.data.dep_time.split(":")[0])+Number(this.data.dep_time.split(":")[1]),e=Number(60*this.data.arr_time.split(":")[0])+Number(this.data.arr_time.split(":")[1])-t;return e<0&&(e+=1440),Math.floor(e/60)+"时"+e%60+"分"},bestPrice:function(){var t=this.data.seat_infos[0].settle_price_child;return this.data.seat_infos.forEach((function(e){e.settle_price_child<t&&(t=e.settle_price_child)})),t}},methods:{handleSubmit:function(t){console.log("hahaha"),this.$router.push({path:"/air/order",query:{id:this.data.id,seat_xid:t}})}}},r=(n(596),n(19)),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flight-item"},[n("div",[n("el-row",{staticClass:"flight-info",attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:6}},[n("span",[t._v(t._s(t.data.airline_name)+" ")]),t._v(" "+t._s(t.data.flight_no)+" ")]),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-row",{staticClass:"flight-info-center",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{staticClass:"flight-airport",attrs:{span:8}},[n("strong",[t._v(t._s(t.data.dep_time))]),t._v(" "),n("span",[t._v(t._s(t.data.org_airport_name)+t._s(t.data.org_airport_quay))])]),t._v(" "),n("el-col",{staticClass:"flight-time",attrs:{span:8}},[n("span",[t._v(t._s(t.duration))])]),t._v(" "),n("el-col",{staticClass:"flight-airport",attrs:{span:8}},[n("strong",[t._v(t._s(t.data.arr_time))]),t._v(" "),n("span",[t._v(t._s(t.data.dst_airport_name)+t._s(t.data.dst_airport_quay))])])],1)],1),t._v(" "),n("el-col",{staticClass:"flight-info-right",attrs:{span:6}},[t._v("\n                ￥"),n("span",{staticClass:"sell-price"},[t._v(t._s(t.bestPrice))]),t._v("起\n            ")])],1)],1),t._v(" "),n("el-collapse-transition",[t.isShow?n("div",{staticClass:"flight-recommend"},[n("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{attrs:{span:4}},[t._v("低价推荐")]),t._v(" "),n("el-col",{attrs:{span:20}},t._l(t.data.seat_infos,(function(e,l){return n("el-row",{key:l,staticClass:"flight-sell",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{staticClass:"flight-sell-left",attrs:{span:16}},[n("span",[t._v(t._s(e.group_name))]),t._v(" | "+t._s(e.supplierName)+"\n                        ")]),t._v(" "),n("el-col",{staticClass:"price",attrs:{span:5}},[t._v(" ￥"+t._s(e.settle_price)+" ")]),t._v(" "),n("el-col",{staticClass:"choose-button",attrs:{span:3}},[n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){return n.stopPropagation(),t.handleSubmit(e.seat_xid)}}},[t._v("\n                                选定\n                            ")]),t._v(" "),"A"!=e.nums?n("p",[t._v("剩余："+t._s(e.nums))]):t._e()],1)],1)})),1)],1)],1):t._e()])],1)}),[],!1,null,"143e57ee",null);e.default=component.exports},674:function(t,e,n){"use strict";n.r(e);var l={},r=(n(598),n(19)),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aside"},[n("div",{staticClass:"statement"},[n("el-row",{staticClass:"statement-list",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont iconweibiaoti-_huabanfuben",staticStyle:{color:"#409eff"}}),t._v(" "),n("span",[t._v("航协认证")])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont iconbaozheng",staticStyle:{color:"green"}}),t._v(" "),n("span",[t._v("出行保证")])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont icondianhua",staticStyle:{color:"#409eff"}}),t._v(" "),n("span",[t._v("7x24")])])],1),t._v(" "),n("p",{staticClass:"service-tel"},[t._v("免费客服电话：4006345678转2")])],1),t._v(" "),n("div",{staticClass:"history"},[n("h5",[t._v("历史查询")]),t._v(" "),t._l(t.$store.state.history.historyList,(function(e,l){return n("nuxt-link",{key:l,attrs:{to:"/air/flights?departCity="+e.departCity+"&departCode="+e.departCode+"&destCity="+e.destCity+"&destCode="+e.destCode+"&departDate="+e.departDate}},[n("el-row",{staticClass:"history-item",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("div",{staticClass:"air-info"},[n("div",{staticClass:"to-from"},[t._v(t._s(e.departCity)+" - "+t._s(e.destCity))]),t._v(" "),n("p",[t._v(t._s(e.departDate))])]),t._v(" "),n("span",[t._v("选择")])])],1)}))],2)])}),[],!1,null,"13640dc8",null);e.default=component.exports},691:function(t,e,n){"use strict";n.r(e);n(44);var l={data:function(){return{flightsData:{},filteredList:[],pageIndex:1,pageSize:10,currentIndex:-1}},created:function(){this.loadPage()},watch:{$route:function(){this.loadPage()}},computed:{dataList:function(){if(!this.filteredList)return[];var t=(this.pageIndex-1)*this.pageSize,e=t+this.pageSize;return this.filteredList.slice(t,e)}},methods:{loadPage:function(){var t=this;this.$axios({url:"/airs",params:this.$route.query}).then((function(e){t.flightsData=e.data,t.filteredList=t.flightsData.flights}))},setCurrentIndex:function(t){t==this.currentIndex?this.currentIndex=-1:this.currentIndex=t},currentChange:function(t){this.pageIndex=t},sizeChange:function(t){this.pageSize=t},setFilteredList:function(t){this.pageIndex=1,this.filteredList=t,console.log("父组件收到了子组件的数据传递"),console.log(this.filteredList)}}},r=(n(590),n(19)),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"contianer"},[n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("div",{staticClass:"flights-content"},[t.flightsData.options?n("FlightsFilter",{attrs:{data:t.flightsData},on:{setFilteredList:t.setFilteredList}}):t._e(),t._v(" "),t.flightsData.flights?n("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next, jumper","page-size":t.pageSize,"current-page":t.pageIndex,"page-sizes":[2,5,10,20,50],total:t.filteredList.length},on:{"size-change":t.sizeChange,"current-change":t.currentChange}}):t._e(),t._v(" "),n("FlightsListHead"),t._v(" "),t.flightsData.flights&&0==t.flightsData.flights.length?n("div",[t._v("\n                暂无数据\n            ")]):t._e(),t._v(" "),t._l(t.dataList,(function(e,l){return n("FlightsItem",{key:e.id,attrs:{data:e,isShow:l==t.currentIndex},nativeOn:{click:function(e){return t.setCurrentIndex(l)}}})}))],2),t._v(" "),n("div",{staticClass:"aside"},[n("FlightsAside")],1)])],1)}),[],!1,null,"f3b64980",null);e.default=component.exports;installComponents(component,{FlightsFilter:n(671).default,FlightsListHead:n(672).default,FlightsItem:n(673).default,FlightsAside:n(674).default})}}]);