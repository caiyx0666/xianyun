(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{370:function(e,t,r){var content=r(374);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("0a2549cb",content,!0,{sourceMap:!1})},371:function(e,t,r){var content=r(376);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("0273269d",content,!0,{sourceMap:!1})},372:function(e,t,r){var content=r(383);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("72c62c77",content,!0,{sourceMap:!1})},373:function(e,t,r){"use strict";var o=r(370);r.n(o).a},374:function(e,t,r){(t=r(34)(!1)).push([e.i,".form[data-v-494839ac]{padding:25px}.form-item[data-v-494839ac]{margin-bottom:20px}.form-text[data-v-494839ac]{font-size:12px;color:#409eff;text-align:right;line-height:1}.submit[data-v-494839ac]{width:100%;margin-top:10px}",""]),e.exports=t},375:function(e,t,r){"use strict";var o=r(371);r.n(o).a},376:function(e,t,r){(t=r(34)(!1)).push([e.i,".form[data-v-435c5fab]{padding:25px}.form-item[data-v-435c5fab]{margin-bottom:20px}.form-text[data-v-435c5fab]{font-size:12px;color:#409eff;text-align:right;line-height:1}.submit[data-v-435c5fab]{width:100%;margin-top:10px}",""]),e.exports=t},377:function(e,t,r){"use strict";r.r(t);function o(source,e){if(null==source)return{};var t,i,r=function(source,e){if(null==source)return{};var t,i,r={},o=Object.keys(source);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||(r[t]=source[t]);return r}(source,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(source);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(source,t)&&(r[t]=source[t])}return r}var n={data:function(){var e=this;return{form:{username:"",nickname:"",captcha:"",password:"",checkPassword:""},rules:{username:[{required:!0,message:"该项不能为空",trigger:"blur"},{min:5,max:11,message:"请输入合法手机号",trigger:"blur"}],nickname:[{required:!0,message:"该项不能为空",trigger:"blur"}],captcha:[{required:!0,message:"该项不能为空",trigger:"blur"}],password:[{required:!0,message:"该项不能为空",trigger:"blur"}],checkPassword:[{validator:function(t,r,o){""==r?o(new Error("请再次输入密码")):r!=e.form.password?o(new Error("两次密码必须一致")):o()},trigger:"blur"}]}}},methods:{handleRegSubmit:function(){var e=this;console.log(this.form),this.$refs.form.validate().then((function(t){console.log("校验成功");var r=e.form,data=(r.checkPassword,o(r,["checkPassword"]));e.$axios({method:"post",url:"/accounts/register",data:data}).then((function(t){console.log(t.data),e.$message.success("注册成功"),e.$store.commit("user/setUserInfo",t.data)})).catch((function(e){console.dir(e)}))})).catch((function(e){console.log("校验失败")}))},handleSendCaptcha:function(){var e=this;this.$axios({method:"post",url:"/captchas",data:{tel:this.form.username}}).then((function(t){console.log(t.data),t.data.code&&e.$message.success("验证码发送成功: "+t.data.code)}))}}},c=(r(375),r(19)),component=Object(c.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{staticClass:"form-item",attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"用户名手机"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item",attrs:{prop:"captcha"}},[r("el-input",{attrs:{placeholder:"验证码"},model:{value:e.form.captcha,callback:function(t){e.$set(e.form,"captcha",t)},expression:"form.captcha"}},[r("template",{slot:"append"},[r("el-button",{on:{click:e.handleSendCaptcha}},[e._v("\n                    发送验证码\n                ")])],1)],2)],1),e._v(" "),r("el-form-item",{staticClass:"form-item",attrs:{prop:"nickname"}},[r("el-input",{attrs:{placeholder:"你的名字"},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item",attrs:{prop:"password"}},[r("el-input",{attrs:{placeholder:"密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item",attrs:{prop:"checkPassword"}},[r("el-input",{attrs:{placeholder:"确认密码",type:"password"},model:{value:e.form.checkPassword,callback:function(t){e.$set(e.form,"checkPassword",t)},expression:"form.checkPassword"}})],1),e._v(" "),r("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.handleRegSubmit}},[e._v("\n        注册\n    ")])],1)}),[],!1,null,"435c5fab",null);t.default=component.exports},378:function(e,t,r){"use strict";r.r(t);var o={data:function(){return{form:{username:"13800138000",password:"123456"},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"请输入11位合法手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码必须6位以上",trigger:"blur"}]}}},methods:{handleLoginSubmit:function(){var e=this;this.$refs.form.validate().then((function(t){console.log(t),console.log("校验成功"),t&&e.$store.dispatch("user/login",e.form).then((function(t){e.$message.success("登录成功"),e.$router.back(),e.$emit("logins"),console.log(t)}))})).catch((function(e){console.log(e),console.log("校验失败")})),console.log(this.form)},hideErrMsg:function(e){this.$refs.form.clearValidate(e)}}},n=(r(373),r(19)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{staticClass:"form-item",attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"用户名/手机"},on:{focus:function(t){return e.hideErrMsg("username")}},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),r("el-form-item",{staticClass:"form-item",attrs:{prop:"password"}},[r("el-input",{attrs:{placeholder:"密码",type:"password"},on:{focus:function(t){return e.hideErrMsg("password")}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),r("p",{staticClass:"form-text"},[r("nuxt-link",{attrs:{to:"#"}},[e._v("忘记密码")])],1),e._v(" "),r("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:e.handleLoginSubmit}},[e._v("\n    登录\n  ")])],1)}),[],!1,null,"494839ac",null);t.default=component.exports},382:function(e,t,r){"use strict";var o=r(372);r.n(o).a},383:function(e,t,r){(t=r(34)(!1)).push([e.i,".container[data-v-2fb5ea9c]{background:url(http://157.122.54.189:9095/assets/images/th03.jfif) center 0;height:700px;min-width:1000px}.container .main[data-v-2fb5ea9c]{width:1000px;height:100%;margin:0 auto;position:relative}.container .main .form-wrapper[data-v-2fb5ea9c]{width:400px;margin:0 auto;background:#fff;box-shadow:2px 2px 0 rgba(0,0,0,.1);overflow:hidden}.container .main .form-wrapper .tabs span[data-v-2fb5ea9c]{display:block;width:50%;height:50px;box-sizing:border-box;border-top:2px solid #eee;background:#eee;line-height:48px;text-align:center;cursor:pointer;color:#666}.container .main .form-wrapper .tabs span.active[data-v-2fb5ea9c]{color:orange;border-top-color:orange;background:#fff;font-weight:700}",""]),e.exports=t},384:function(e,t,r){"use strict";r.r(t);var o={data:function(){return{currentTab:0}},methods:{handleChangeTab:function(e){this.currentTab=e}}},n=(r(382),r(19)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("el-row",{staticClass:"main",attrs:{type:"flex",justify:"center",align:"middle"}},[r("div",{staticClass:"form-wrapper"},[r("el-row",{staticClass:"tabs",attrs:{type:"flex",justify:"center"}},e._l(["登录","注册"],(function(t,o){return r("span",{key:o,class:{active:e.currentTab===o},on:{click:function(t){return e.handleChangeTab(o)}}},[e._v("\n                    "+e._s(t)+"\n                ")])})),0),e._v(" "),0==e.currentTab?r("LoginForm"):e._e(),e._v(" "),1==e.currentTab?r("RegisterForm"):e._e()],1)])],1)}),[],!1,null,"2fb5ea9c",null);t.default=component.exports;installComponents(component,{LoginForm:r(378).default,RegisterForm:r(377).default})}}]);