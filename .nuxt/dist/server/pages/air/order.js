exports.ids = [3];
exports.modules = {

/***/ 101:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LoginForm_vue_vue_type_style_index_0_id_494839ac_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LoginForm_vue_vue_type_style_index_0_id_494839ac_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LoginForm_vue_vue_type_style_index_0_id_494839ac_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LoginForm_vue_vue_type_style_index_0_id_494839ac_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LoginForm_vue_vue_type_style_index_0_id_494839ac_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LoginForm_vue_vue_type_style_index_0_id_494839ac_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 102:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".form[data-v-494839ac]{padding:25px}.form-item[data-v-494839ac]{margin-bottom:20px}.form-text[data-v-494839ac]{font-size:12px;color:#409eff;text-align:right;line-height:1}.submit[data-v-494839ac]{width:100%;margin-top:10px}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 103:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RegisterForm_vue_vue_type_style_index_0_id_435c5fab_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RegisterForm_vue_vue_type_style_index_0_id_435c5fab_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RegisterForm_vue_vue_type_style_index_0_id_435c5fab_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RegisterForm_vue_vue_type_style_index_0_id_435c5fab_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RegisterForm_vue_vue_type_style_index_0_id_435c5fab_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RegisterForm_vue_vue_type_style_index_0_id_435c5fab_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 104:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".form[data-v-435c5fab]{padding:25px}.form-item[data-v-435c5fab]{margin-bottom:20px}.form-text[data-v-435c5fab]{font-size:12px;color:#409eff;text-align:right;line-height:1}.submit[data-v-435c5fab]{width:100%;margin-top:10px}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 105:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/user/LoginForm.vue?vue&type=template&id=494839ac&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:"form",staticClass:"form",attrs:{"model":_vm.form,"rules":_vm.rules}},[_c('el-form-item',{staticClass:"form-item",attrs:{"prop":"username"}},[_c('el-input',{attrs:{"placeholder":"用户名/手机"},on:{"focus":function($event){return _vm.hideErrMsg('username')}},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, "username", $$v)},expression:"form.username"}})],1),_vm._v(" "),_c('el-form-item',{staticClass:"form-item",attrs:{"prop":"password"}},[_c('el-input',{attrs:{"placeholder":"密码","type":"password"},on:{"focus":function($event){return _vm.hideErrMsg('password')}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, "password", $$v)},expression:"form.password"}})],1),_vm._v(" "),_c('p',{staticClass:"form-text"},[_c('nuxt-link',{attrs:{"to":"#"}},[_vm._v("忘记密码")])],1),_vm._v(" "),_c('el-button',{staticClass:"submit",attrs:{"type":"primary"},on:{"click":_vm.handleLoginSubmit}},[_vm._v("\n    登录\n  ")])],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/user/LoginForm.vue?vue&type=template&id=494839ac&scoped=true&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/user/LoginForm.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var LoginFormvue_type_script_lang_js_ = ({
  data() {
    return {
      // 表单数据
      form: {
        username: "13800138000",
        password: "123456"
      },
      // 表单规则
      rules: {
        // 这里是一个对象
        // 以 key: value 的形式指定每个字段应该符合的规则
        username: [// 这里是规则数组, 里面每个元素都是一条需要校验的 rule
        {
          required: true,
          message: "请输入用户名",
          trigger: "blur"
        }, {
          pattern: /^1[3456789]\d{9}$/,
          message: "请输入11位合法手机号",
          trigger: "blur"
        }],
        password: [{
          required: true,
          message: "请输入密码",
          trigger: "blur"
        }, {
          min: 6,
          message: "密码必须6位以上",
          trigger: "blur"
        }]
      }
    };
  },

  methods: {
    // 提交登录
    handleLoginSubmit() {
      // 发送登录之前, 校验整个表单
      // 可以使用 form.validate() 函数
      // 这个函数有两种使用方式
      // 1. 回调形式
      // this.$refs.form.validate((isValid, invalidObj)=>{
      //     // 校验完毕会得到两个参数, 是否成功的布尔值, 不合法的字段集合
      //     console.log(isValid);
      //     console.log(invalidObj);
      //     // 只要在这里查判断校验成功, 然后发送请求即可
      //     if (isValid) {
      //         // 发送登录请求
      //     }
      // })
      // 2. promise 的形式
      this.$refs.form.validate().then(res => {
        console.log(res);
        console.log("校验成功");

        if (res) {
          // 发送请求
          // this.$axios({
          //     method: 'post',
          //     url: '/accounts/login',
          //     data: this.form
          // }).then(res=>{
          //     console.log(res.data);
          //     this.$message.success('登录成功')
          //     // 将获取的数据存放到 vuex 当中
          //     // 利用 commit 调用 mutation
          //     this.$store.commit('user/setUserInfo', res.data)
          // })
          // 弹窗删掉, 留给拦截器处理
          // this.$store.commit('user/setUserInfo', this.form)
          // 登录表单这里想要登录, 但是我自己不做登录请求
          // 将这个请求封装到 vuex 里面, 让所有其他组件都能共用
          // this.$store.dispatch() 两个参数, action 的地址, 第二是数据
          this.$store.dispatch("user/login", this.form).then(res => {
            this.$message.success("登录成功");
            this.$router.back();
            this.$emit("logins");
            console.log(res);
          });
        }
      }).catch(err => {
        console.log(err);
        console.log("校验失败");
      }); // 暂时不管登录的事情,只是打印出数据作为参考

      console.log(this.form);
    },

    hideErrMsg(propName) {
      // 拿到当前表单
      // 调用清理错误信息的函数
      // 传入需要清理的 prop
      this.$refs.form.clearValidate(propName);
    }

  }
});
// CONCATENATED MODULE: ./components/user/LoginForm.vue?vue&type=script&lang=js&
 /* harmony default export */ var user_LoginFormvue_type_script_lang_js_ = (LoginFormvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./components/user/LoginForm.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(101)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  user_LoginFormvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "494839ac",
  "08163f90"
  
)

/* harmony default export */ var LoginForm = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 106:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/user/RegisterForm.vue?vue&type=template&id=435c5fab&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:"form",staticClass:"form",attrs:{"model":_vm.form,"rules":_vm.rules}},[_c('el-form-item',{staticClass:"form-item",attrs:{"prop":"username"}},[_c('el-input',{attrs:{"placeholder":"用户名手机"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, "username", $$v)},expression:"form.username"}})],1),_vm._v(" "),_c('el-form-item',{staticClass:"form-item",attrs:{"prop":"captcha"}},[_c('el-input',{attrs:{"placeholder":"验证码"},model:{value:(_vm.form.captcha),callback:function ($$v) {_vm.$set(_vm.form, "captcha", $$v)},expression:"form.captcha"}},[_c('template',{slot:"append"},[_c('el-button',{on:{"click":_vm.handleSendCaptcha}},[_vm._v("\n                    发送验证码\n                ")])],1)],2)],1),_vm._v(" "),_c('el-form-item',{staticClass:"form-item",attrs:{"prop":"nickname"}},[_c('el-input',{attrs:{"placeholder":"你的名字"},model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, "nickname", $$v)},expression:"form.nickname"}})],1),_vm._v(" "),_c('el-form-item',{staticClass:"form-item",attrs:{"prop":"password"}},[_c('el-input',{attrs:{"placeholder":"密码","type":"password"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, "password", $$v)},expression:"form.password"}})],1),_vm._v(" "),_c('el-form-item',{staticClass:"form-item",attrs:{"prop":"checkPassword"}},[_c('el-input',{attrs:{"placeholder":"确认密码","type":"password"},model:{value:(_vm.form.checkPassword),callback:function ($$v) {_vm.$set(_vm.form, "checkPassword", $$v)},expression:"form.checkPassword"}})],1),_vm._v(" "),_c('el-button',{staticClass:"submit",attrs:{"type":"primary"},on:{"click":_vm.handleRegSubmit}},[_vm._v("\n        注册\n    ")])],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/user/RegisterForm.vue?vue&type=template&id=435c5fab&scoped=true&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/user/RegisterForm.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var RegisterFormvue_type_script_lang_js_ = ({
  data() {
    // 因为校验函数只有在 data 这里面需要用到, 
    // 无需放入 methods 在这里直接声明即可
    const validatePass = (rule, value, callback) => {
      // rule 是当前规则对象
      // value 是当前输入框的值
      // callback 是一个放行的函数
      // 如果需要报错, 则创建一个错误对象
      // new Error(错误信息字符串)
      // 将这个错误对象传入 callback 放行函数当中
      // 饿了么就会自动报错
      if (value == '') {
        // 输出错误提示
        callback(new Error('请再次输入密码'));
      } else if (value != this.form.password) {
        // 输出错误提示
        callback(new Error('两次密码必须一致'));
      } else {
        // 输出成功回调
        callback();
      }
    };

    return {
      form: {
        username: "",
        nickname: "",
        captcha: "",
        password: "",
        checkPassword: ""
      },
      rules: {
        username: [{
          required: true,
          message: "该项不能为空",
          trigger: "blur"
        }, {
          min: 5,
          max: 11,
          message: "请输入合法手机号",
          trigger: "blur"
        }],
        nickname: [{
          required: true,
          message: "该项不能为空",
          trigger: "blur"
        }],
        captcha: [{
          required: true,
          message: "该项不能为空",
          trigger: "blur"
        }],
        password: [{
          required: true,
          message: "该项不能为空",
          trigger: "blur"
        }],
        checkPassword: [{
          //   验证规则里面, 有三个需要处理的变量
          //   1. 要求
          //   2. 提示语
          //   3. 触发
          // 最灵活的是一个函数校验形式, 只剩下触发条件需要声明
          // 其余全部放到函数 validator 里面
          //   required: true,
          //   message: '该项不能为空',
          validator: validatePass,
          trigger: "blur"
        }]
      }
    };
  },

  methods: {
    handleRegSubmit() {
      // 注册暂时啥都不干
      // 只是先将 form 数据打印出来
      console.log(this.form); // 输入完全部数据, 需要做一次校验
      // 发送请求即可(跟登录没什么差别)

      this.$refs.form.validate().then(res => {
        console.log('校验成功'); // 所有数据都符合要求后, 发送请求
        // 先用剩余参数语法将 checkPassword 排除掉

        const {
          checkPassword,
          ...data
        } = this.form;
        this.$axios({
          method: 'post',
          url: '/accounts/register',
          data
        }).then(res => {
          console.log(res.data); // 注册成功

          this.$message.success('注册成功'); // 自动登录, 将数据存放到 vuex 里面

          this.$store.commit('user/setUserInfo', res.data);
        }).catch(err => {
          console.dir(err);
        });
      }).catch(err => {
        console.log('校验失败');
      });
    },

    handleSendCaptcha() {
      this.$axios({
        method: 'post',
        url: '/captchas',
        data: {
          tel: this.form.username
        }
      }).then(res => {
        console.log(res.data);

        if (res.data.code) {
          this.$message.success('验证码发送成功: ' + res.data.code);
        }
      });
    }

  }
});
// CONCATENATED MODULE: ./components/user/RegisterForm.vue?vue&type=script&lang=js&
 /* harmony default export */ var user_RegisterFormvue_type_script_lang_js_ = (RegisterFormvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./components/user/RegisterForm.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(103)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  user_RegisterFormvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "435c5fab",
  "67349cd8"
  
)

/* harmony default export */ var RegisterForm = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 126:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(180);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("0d2b6aa6", content, true, context)
};

/***/ }),

/***/ 127:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(182);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("3d9f7176", content, true, context)
};

/***/ }),

/***/ 128:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(184);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("d2bd4160", content, true, context)
};

/***/ }),

/***/ 179:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_order_vue_vue_type_style_index_0_id_4ec5912c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(126);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_order_vue_vue_type_style_index_0_id_4ec5912c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_order_vue_vue_type_style_index_0_id_4ec5912c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_order_vue_vue_type_style_index_0_id_4ec5912c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_order_vue_vue_type_style_index_0_id_4ec5912c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_order_vue_vue_type_style_index_0_id_4ec5912c_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 180:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".container[data-v-4ec5912c]{width:1000px;margin:20px auto}.aside[data-v-4ec5912c]{width:350px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;border:1px solid #ddd}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 181:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderForm_vue_vue_type_style_index_0_id_2e19f83f_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(127);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderForm_vue_vue_type_style_index_0_id_2e19f83f_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderForm_vue_vue_type_style_index_0_id_2e19f83f_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderForm_vue_vue_type_style_index_0_id_2e19f83f_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderForm_vue_vue_type_style_index_0_id_2e19f83f_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderForm_vue_vue_type_style_index_0_id_2e19f83f_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 182:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".air-column[data-v-2e19f83f]{border-bottom:1px dashed #ddd;padding-bottom:20px;margin-bottom:20px}.air-column h2[data-v-2e19f83f]{margin-bottom:20px;font-size:22px;font-weight:400}[data-v-2e19f83f] .el-select .el-input{width:130px}.input-with-select[data-v-2e19f83f]{width:590px}.input-with-select[data-v-2e19f83f] .el-input-group__prepend{background-color:#fff}.member-info-item[data-v-2e19f83f]{border-bottom:1px dashed #eee;padding-bottom:20px;position:relative}.member-info-item:first-child .delete-user[data-v-2e19f83f]{display:none}.add-member[data-v-2e19f83f]{margin-top:20px}.delete-user[data-v-2e19f83f]{display:block;background:#ddd;width:16px;height:16px;font-size:14px;text-align:center;line-height:16px;color:#fff;cursor:pointer;border-radius:50px;position:absolute;right:-30px;top:50%}.insurance>div[data-v-2e19f83f]{margin-top:10px}.insurance-item[data-v-2e19f83f]{margin-bottom:20px}.contact[data-v-2e19f83f] .el-input{width:50%}.submit[data-v-2e19f83f]{margin:50px auto;display:block;width:250px;height:50px}.container .main[data-v-2e19f83f]{height:100%;margin:0 auto;position:relative}.container .main .form-wrapper[data-v-2e19f83f]{width:400px;margin:0 auto;background:#fff;box-shadow:2px 2px 0 rgba(0,0,0,.1);overflow:hidden}.container .main .form-wrapper[data-v-2e19f83f] .el-input{width:100%!important}.container .main .form-wrapper .tabs span[data-v-2e19f83f]{display:block;width:50%;height:50px;box-sizing:border-box;border-top:2px solid #eee;background:#eee;line-height:48px;text-align:center;cursor:pointer;color:#666}.container .main .form-wrapper .tabs span.active[data-v-2e19f83f]{color:orange;border-top-color:orange;background:#fff;font-weight:700}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 183:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderAside_vue_vue_type_style_index_0_id_6f7cf82c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(128);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderAside_vue_vue_type_style_index_0_id_6f7cf82c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderAside_vue_vue_type_style_index_0_id_6f7cf82c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderAside_vue_vue_type_style_index_0_id_6f7cf82c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderAside_vue_vue_type_style_index_0_id_6f7cf82c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_nuxt_components_dist_loader_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_OrderAside_vue_vue_type_style_index_0_id_6f7cf82c_scoped_true_lang_less___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 184:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".aside[data-v-6f7cf82c]{width:350px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;border:1px solid #ddd}.air-info[data-v-6f7cf82c]{padding:15px}.air-info .info-top[data-v-6f7cf82c]{margin-bottom:10px}.air-info .info-top>div[data-v-6f7cf82c]:last-child{font-size:14px}.air-info .info-step .flight-airport strong[data-v-6f7cf82c]{display:block;font-size:22px;font-weight:400}.air-info .info-step .flight-airport span[data-v-6f7cf82c]{font-size:12px;color:#999}.air-info .info-step .flight-time[data-v-6f7cf82c]{text-align:center;font-size:12px;color:#999}.air-info .info-step .flight-time span[data-v-6f7cf82c]{display:block}.info-bar[data-v-6f7cf82c]{border-top:1px dashed #ddd;padding:10px 15px;font-size:14px;color:#666}.info-bar .price[data-v-6f7cf82c]{font-size:28px;color:orange}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 231:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/air/OrderForm.vue?vue&type=template&id=2e19f83f&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"main"},[_vm._ssrNode("<div class=\"air-column\" data-v-2e19f83f>","</div>",[_vm._ssrNode("<h2 data-v-2e19f83f>乘机人</h2> "),_c('el-form',{ref:"usersForm",staticClass:"member-info",attrs:{"model":{
                users: _vm.users,
            }}},_vm._l((_vm.users),function(user,index){return _c('div',{key:user.uid,staticClass:"member-info-item"},[_c('el-form-item',{attrs:{"label":"乘机人姓名","prop":("users[" + index + "].username"),"rules":[
                        {
                            required: true,
                            message: '请输入数据',
                            trigger: 'blur',
                        } ]}},[_c('el-input',{staticClass:"input-with-select",attrs:{"placeholder":"姓名"},model:{value:(user.username),callback:function ($$v) {_vm.$set(user, "username", $$v)},expression:"user.username"}})],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"身份证号码","prop":("users[" + index + "].id"),"rules":[
                        {
                            required: true,
                            message: '请输入数据',
                            trigger: 'blur',
                        } ]}},[_c('el-input',{staticClass:"input-with-select",attrs:{"placeholder":"证件号码"},model:{value:(user.id),callback:function ($$v) {_vm.$set(user, "id", $$v)},expression:"user.id"}})],1),_vm._v(" "),_c('span',{staticClass:"delete-user",on:{"click":function($event){return _vm.handleDeleteUser(index)}}},[_vm._v("-")])],1)}),0),_vm._ssrNode(" "),_c('el-button',{staticClass:"add-member",attrs:{"type":"primary"},on:{"click":_vm.handleAddUsers}},[_vm._v("添加乘机人")])],2),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"air-column\" data-v-2e19f83f>","</div>",[_vm._ssrNode("<h2 data-v-2e19f83f>保险</h2> "),_vm._ssrNode("<div data-v-2e19f83f>","</div>",[_c('el-checkbox-group',{model:{value:(_vm.insurances),callback:function ($$v) {_vm.insurances=$$v},expression:"insurances"}},_vm._l((_vm.data.insurances),function(item){return _c('div',{key:item.id,staticClass:"insurance-item"},[_c('el-checkbox',{attrs:{"label":item.id,"border":""}},[_vm._v("\n                        "+_vm._s(((item.type) + ": ￥" + (item.price) + "/份 x " + (_vm.users.length) + " 最高赔付 " + (item.compensation)))+"\n                    ")])],1)}),0)],1),_vm._ssrNode(" <h2 data-v-2e19f83f>发票</h2> "),_vm._ssrNode("<div data-v-2e19f83f>","</div>",[_c('el-checkbox',{model:{value:(_vm.invoice),callback:function ($$v) {_vm.invoice=$$v},expression:"invoice"}},[_vm._v("需要发票")])],1)],2),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"air-column\" data-v-2e19f83f>","</div>",[_vm._ssrNode("<h2 data-v-2e19f83f>联系人</h2> "),_vm._ssrNode("<div class=\"contact\" data-v-2e19f83f>","</div>",[_c('el-form',{ref:"contactForm",attrs:{"label-width":"80px","model":{
                    contactName: _vm.contactName,
                    contactPhone: _vm.contactPhone,
                    captcha: _vm.captcha,
                },"rules":_vm.contactRules}},[_c('el-form-item',{attrs:{"label":"姓名","prop":"contactName"}},[_c('el-input',{model:{value:(_vm.contactName),callback:function ($$v) {_vm.contactName=$$v},expression:"contactName"}})],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"手机","prop":"contactPhone"}},[_c('el-input',{attrs:{"placeholder":"请输入内容"},model:{value:(_vm.contactPhone),callback:function ($$v) {_vm.contactPhone=$$v},expression:"contactPhone"}},[_c('template',{slot:"append"},[_c('el-button',{on:{"click":_vm.handleSendCaptcha}},[_vm._v("发送验证码")])],1)],2)],1),_vm._v(" "),_c('el-form-item',{attrs:{"label":"验证码","prop":"captcha"}},[_c('el-input',{model:{value:(_vm.captcha),callback:function ($$v) {_vm.captcha=$$v},expression:"captcha"}})],1)],1),_vm._ssrNode(" "),(_vm.$store.state.user.userInfo.token)?_c('el-button',{staticClass:"submit",attrs:{"type":"warning"},on:{"click":_vm.handleSubmit}},[_vm._v("\n                提交订单\n            ")]):_c('div',{staticClass:"container"},[_c('el-row',{staticClass:"main",attrs:{"type":"flex","justify":"center","align":"middle"}},[_c('div',{staticClass:"form-wrapper"},[_c('el-row',{staticClass:"tabs",attrs:{"type":"flex","justify":"center"}},_vm._l((["登录", "注册"]),function(item,index){return _c('span',{key:index,class:{ active: _vm.currentTab === index },on:{"click":function($event){return _vm.handleChangeTab(index)}}},[_vm._v("\n                                "+_vm._s(item)+"\n                            ")])}),0),_vm._v(" "),(_vm.currentTab == 0)?_c('LoginForm'):_vm._e(),_vm._v(" "),(_vm.currentTab == 1)?_c('RegisterForm'):_vm._e()],1)])],1)],2)],2),_vm._ssrNode(" <div style=\"display: none\" data-v-2e19f83f>"+_vm._ssrEscape("\n        "+_vm._s(_vm.totalPrice)+"\n    ")+"</div>")],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/air/OrderForm.vue?vue&type=template&id=2e19f83f&scoped=true&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/air/OrderForm.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var OrderFormvue_type_script_lang_js_ = ({
  props: {
    data: Object
  },

  data() {
    return {
      currentTab: 0,
      // memberRules: {
      //     // 遍历生成的字段这样写规则不靠谱
      //     'users[0].username': [],
      //     'users[0].id': [],
      //     'users[1].username': [],
      //     'users[1].id': [],
      //     'users[2].username': [],
      //     'users[2].id': [],
      // },
      contactRules: {
        contactName: [{
          required: true,
          message: "请输入数据",
          trigger: "blur"
        }],
        contactPhone: [{
          required: true,
          message: "请输入数据",
          trigger: "blur"
        }],
        captcha: [{
          required: true,
          message: "请输入数据",
          trigger: "blur"
        }]
      },
      users: [// 这里用来存放所有的乘机人
      // 每个对象都是一个乘机人数据对象
      {
        // 用户名
        username: "哈哈",
        // 身份证号
        id: "450433222222222222",
        uid: new Date().getTime()
      }],
      insurances: [],
      contactName: "呵呵",
      contactPhone: "13847474837",
      captcha: "000000",
      invoice: false
    };
  },

  computed: {
    totalPrice() {
      const ticketPrice = this.data.base_price * this.users.length;
      let insurancePrice = 0; // 现在选中的checkList 应该是 this.insurances 格式类似 [1,2]
      // 遍历里面的每个被选中的id

      this.insurances.forEach(id => {
        // 遍历到的每个元素都是 id 如 1 或者 2
        // 需要在整个保险数据中找出对应id的价格
        // 保险对象在 this.data.insurances
        // 结构大概是一个数组包裹保险数据对象
        // [
        //     {
        //         id: 1,
        //         price: 998
        //     }
        // ]
        // 遍历这个数组, 找出对应 id 的价格
        // 可以根据选中保险 id 计算出当前保险应该付多少钱的函数
        insurancePrice += this.getInsurancePrice(id);
      }); // this.insurances.forEach(element => {
      //     // [1,2]
      //     // 遍历选中的保险, 这里选中时的储存都是保险id
      //     console.log(element);
      //     // 拿到了id以后应该根据这个id获取保险的价格
      //     this.data.insurances.forEach(insurance => {
      //         if (insurance.id == element) {
      //             // 拿到了当前选中 id 保险的价格,
      //             // 应该乘以人数, 添加到总价上
      //             insurancePrice += insurance.price * this.users.length
      //         }
      //     });
      // });

      console.log(insurancePrice);
      const totalPrice = ticketPrice + insurancePrice; // 得出了总价

      this.$emit("setTotalPrice", totalPrice);
      console.log("计算总价" + totalPrice);
      return totalPrice;
    }

  },
  methods: {
    handleChangeTab(index) {
      this.currentTab = index;
    },

    getInsurancePrice(id) {
      // 可以根据选中保险 id 计算出当前保险应该付多少钱的函数
      let res = 0;
      this.data.insurances.forEach(element => {
        if (id == element.id) {
          res = element.price * this.users.length;
        }
      });
      return res;
    },

    // 异步函数写成同步的样子
    async handleSubmit() {
      console.log("点击按钮提交"); // 像 JSON.parse 一样 Promise 也自带一些方法
      // 有一个 all 的方法, 可以通过传入一个由 promise 组成的数组
      // 一起执行, 等到两个都完成以后, 才会返回一个对应传入数组的结果组成的数组
      // Promise.all([this.$refs.usersForm.validate(),this.$refs.contactForm.validate()]).then(res=>{
      //     if(res[0] && res[1]) {
      //         console.log('发送请求');
      //     }
      // })

      const [validUsers, validContact] = await Promise.all([this.$refs.usersForm.validate(), this.$refs.contactForm.validate()]);

      if (validUsers && validContact) {
        this.sendRequest();
      }
    },

    sendRequest() {
      console.log(this.users);
      console.log(this.insurances); // 开始拼接数据

      const data = {
        users: this.users,
        insurances: this.insurances,
        contactName: this.contactName,
        contactPhone: this.contactPhone,
        invoice: this.invoice,
        seat_xid: this.$route.query.seat_xid,
        air: this.$route.query.id,
        captcha: this.captcha
      };
      this.$axios({
        method: "post",
        url: "/airorders",
        headers: {
          Authorization: "Bearer " + this.$store.state.user.userInfo.token
        },
        data
      }).then(res => {
        console.log(res.data); // 下单成功, 跳转到订单页面

        if (res.data.message = '订单提交成功') {
          this.$router.push('/air/pay?id=' + res.data.data.id);
        }
      });
    },

    handleSendCaptcha() {
      if (!this.contactPhone) {
        this.$message.error("请先输入手机号");
        return;
      } // 添加合法校验


      const regexp = /^1[3456789]\d{9}$/;

      if (!regexp.test(this.contactPhone)) {
        this.$message.error("手机号不合法");
        return;
      }

      this.$axios({
        method: "post",
        url: "/captchas",
        data: {
          tel: this.contactPhone
        }
      }).then(res => {
        console.log(res.data);

        if (res.data.code) {
          this.$message.success("发送成功：" + res.data.code);
        }
      });
    },

    handleAddUsers() {
      this.users.push({
        // 用户名
        username: "",
        // 身份证号
        id: "",
        uid: new Date().getTime()
      });
    },

    handleDeleteUser(index) {
      this.users.splice(index, 1);
    }

  }
});
// CONCATENATED MODULE: ./components/air/OrderForm.vue?vue&type=script&lang=js&
 /* harmony default export */ var air_OrderFormvue_type_script_lang_js_ = (OrderFormvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./components/air/OrderForm.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(181)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  air_OrderFormvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "2e19f83f",
  "9fbb7408"
  
)

/* harmony default export */ var OrderForm = __webpack_exports__["default"] = (component.exports);

/* nuxt-component-imports */
installComponents(component, {LoginForm: __webpack_require__(105).default,RegisterForm: __webpack_require__(106).default})


/***/ }),

/***/ 232:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/air/OrderAside.vue?vue&type=template&id=6f7cf82c&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"aside"},[_vm._ssrNode("<div class=\"air-info\" data-v-6f7cf82c>","</div>",[_c('el-row',{staticClass:"info-top",attrs:{"type":"flex","justify":"space-between"}},[_c('div',[_vm._v(_vm._s(_vm.data.dep_date))]),_vm._v(" "),_c('div',[_vm._v(_vm._s(_vm.data.org_city_name)+" - "+_vm._s(_vm.data.dst_city_name))])]),_vm._ssrNode(" "),_c('el-row',{staticClass:"info-step",attrs:{"type":"flex","justify":"space-between","align":"middle"}},[_c('el-col',{staticClass:"flight-airport",attrs:{"span":5}},[_c('strong',[_vm._v(_vm._s(_vm.data.dep_time))]),_vm._v(" "),_c('span',[_vm._v(_vm._s(_vm.data.org_airport_name)+_vm._s(_vm.data.org_airport_quay))])]),_vm._v(" "),_c('el-col',{staticClass:"flight-time",attrs:{"span":14}},[_c('span',[_vm._v("--- "+_vm._s(_vm.rankTime)+" ---")]),_vm._v(" "),_c('span',[_vm._v(_vm._s(_vm.data.airline_name)+_vm._s(_vm.data.flight_no))])]),_vm._v(" "),_c('el-col',{staticClass:"flight-airport",attrs:{"span":5}},[_c('strong',[_vm._v(_vm._s(_vm.data.arr_time))]),_vm._v(" "),_c('span',[_vm._v("浦东机场T2")])])],1)],2),_vm._ssrNode(" "),_c('el-row',{staticClass:"info-bar",attrs:{"type":"flex","justify":"space-between"}},[_c('span',[_vm._v("订单总价")]),_vm._v(" "),_c('span',[_vm._v("金额")]),_vm._v(" "),_c('span',[_vm._v("数量")])]),_vm._ssrNode(" "),_c('el-row',{staticClass:"info-bar",attrs:{"type":"flex","justify":"space-between"}},[_c('span',[_vm._v("成人机票")]),_vm._v(" "),_c('span',[_vm._v("￥"+_vm._s(_vm.data.seat_infos.org_settle_price))]),_vm._v(" "),_c('span',[_vm._v("x1")])]),_vm._ssrNode(" "),_c('el-row',{staticClass:"info-bar",attrs:{"type":"flex","justify":"space-between"}},[_c('span',[_vm._v("机建＋燃油")]),_vm._v(" "),_c('span',[_vm._v("¥"+_vm._s(_vm.data.airport_tax_audlet)+"/人/单程")]),_vm._v(" "),_c('span',[_vm._v("x1")])]),_vm._ssrNode(" "),_c('el-row',{staticClass:"info-bar",attrs:{"type":"flex","justify":"space-between","align":"middle"}},[_c('span',[_vm._v("应付总额：")]),_vm._v(" "),_c('span',{staticClass:"price"},[_vm._v("￥ "+_vm._s(_vm.totalPrice))])])],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/air/OrderAside.vue?vue&type=template&id=6f7cf82c&scoped=true&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/air/OrderAside.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var OrderAsidevue_type_script_lang_js_ = ({
  props: ['data', 'totalPrice'],
  computed: {
    rankTime() {
      // 数据还未请求回来
      if (!this.data.dep_time) return ""; // 转化为分钟

      const dep = this.data.dep_time.split(":");
      const arr = this.data.arr_time.split(":");
      const depVal = dep[0] * 60 + +dep[1];
      const arrVal = arr[0] * 60 + +arr[1]; // 到达时间相减得到分钟

      let dis = arrVal - depVal; // 如果是第二天凌晨时间段，需要加24小时

      if (dis < 0) {
        dis = arrVal + 24 * 60 - depVal;
      } // 得到相差时间


      return `${Math.floor(dis / 60)}时${dis % 60}分`;
    }

  }
});
// CONCATENATED MODULE: ./components/air/OrderAside.vue?vue&type=script&lang=js&
 /* harmony default export */ var air_OrderAsidevue_type_script_lang_js_ = (OrderAsidevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./components/air/OrderAside.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(183)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  air_OrderAsidevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "6f7cf82c",
  "25c7a730"
  
)

/* harmony default export */ var OrderAside = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 248:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/air/order.vue?vue&type=template&id=4ec5912c&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"container"},[_c('el-row',{attrs:{"type":"flex","justify":"space-between"}},[_c('div',{staticClass:"main"},[(_vm.flightData.id)?_c('OrderForm',{attrs:{"data":_vm.flightData},on:{"setTotalPrice":_vm.setTotalPrice}}):_vm._e()],1),_vm._v(" "),_c('div',{staticClass:"aside"},[(_vm.flightData.id)?_c('OrderAside',{attrs:{"data":_vm.flightData,"totalPrice":_vm.totalPrice}}):_vm._e()],1)])],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/air/order.vue?vue&type=template&id=4ec5912c&scoped=true&

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/air/order.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var ordervue_type_script_lang_js_ = ({
  data() {
    return {
      flightData: {},
      totalPrice: 0
    };
  },

  // 父页面先获取机票数据
  // 分别交给两个组件
  created() {
    this.$axios({
      url: '/airs/' + this.$route.query.id,
      params: {
        seat_xid: this.$route.query.seat_xid
      }
    }).then(res => {
      console.log(res.data);
      this.flightData = res.data;
    });
  },

  methods: {
    setTotalPrice(newTotalPrice) {
      this.totalPrice = newTotalPrice;
    }

  }
});
// CONCATENATED MODULE: ./pages/air/order.vue?vue&type=script&lang=js&
 /* harmony default export */ var air_ordervue_type_script_lang_js_ = (ordervue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./pages/air/order.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(179)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  air_ordervue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "4ec5912c",
  "30673bd2"
  
)

/* harmony default export */ var order = __webpack_exports__["default"] = (component.exports);

/* nuxt-component-imports */
installComponents(component, {OrderForm: __webpack_require__(231).default,OrderAside: __webpack_require__(232).default})


/***/ }),

/***/ 98:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(102);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("0a2549cb", content, true, context)
};

/***/ }),

/***/ 99:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(104);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("0273269d", content, true, context)
};

/***/ })

};;
//# sourceMappingURL=order.js.map