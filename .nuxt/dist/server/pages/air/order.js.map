{"version":3,"file":"pages/air/order.js","sources":["webpack:///./components/user/LoginForm.vue?bf72","webpack:///./components/user/LoginForm.vue?2904","webpack:///./components/user/RegisterForm.vue?e73a","webpack:///./components/user/RegisterForm.vue?5471","webpack:///./components/user/LoginForm.vue?17d6","webpack:///./components/user/LoginForm.vue","webpack:///./components/user/LoginForm.vue?a332","webpack:///./components/user/LoginForm.vue?ac06","webpack:///./components/user/RegisterForm.vue?15e9","webpack:///./components/user/RegisterForm.vue","webpack:///./components/user/RegisterForm.vue?d5cf","webpack:///./components/user/RegisterForm.vue?5c6d","webpack:///./pages/air/order.vue?115b","webpack:///./components/air/OrderForm.vue?0a62","webpack:///./components/air/OrderAside.vue?b9a0","webpack:///./pages/air/order.vue?a481","webpack:///./pages/air/order.vue?362a","webpack:///./components/air/OrderForm.vue?8165","webpack:///./components/air/OrderForm.vue?b395","webpack:///./components/air/OrderAside.vue?2d40","webpack:///./components/air/OrderAside.vue?fd44","webpack:///./components/air/OrderForm.vue?9cbb","webpack:///./components/air/OrderForm.vue","webpack:///./components/air/OrderForm.vue?c5cb","webpack:///./components/air/OrderForm.vue?2cb4","webpack:///./components/air/OrderAside.vue?83b4","webpack:///./components/air/OrderAside.vue","webpack:///./components/air/OrderAside.vue?6f49","webpack:///./components/air/OrderAside.vue?a1e9","webpack:///./pages/air/order.vue?804a","webpack:///./pages/air/order.vue","webpack:///./pages/air/order.vue?2292","webpack:///./pages/air/order.vue?ccb9","webpack:///./components/user/LoginForm.vue?2c4f","webpack:///./components/user/RegisterForm.vue?33fa"],"sourcesContent":["import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=style&index=0&id=494839ac&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=style&index=0&id=494839ac&scoped=true&lang=less&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".form[data-v-494839ac]{padding:25px}.form-item[data-v-494839ac]{margin-bottom:20px}.form-text[data-v-494839ac]{font-size:12px;color:#409eff;text-align:right;line-height:1}.submit[data-v-494839ac]{width:100%;margin-top:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterForm.vue?vue&type=style&index=0&id=435c5fab&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterForm.vue?vue&type=style&index=0&id=435c5fab&scoped=true&lang=less&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".form[data-v-435c5fab]{padding:25px}.form-item[data-v-435c5fab]{margin-bottom:20px}.form-text[data-v-435c5fab]{font-size:12px;color:#409eff;text-align:right;line-height:1}.submit[data-v-435c5fab]{width:100%;margin-top:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{staticClass:\"form-item\",attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名/手机\"},on:{\"focus\":function($event){return _vm.hideErrMsg('username')}},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form-item\",attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"密码\",\"type\":\"password\"},on:{\"focus\":function($event){return _vm.hideErrMsg('password')}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('p',{staticClass:\"form-text\"},[_c('nuxt-link',{attrs:{\"to\":\"#\"}},[_vm._v(\"忘记密码\")])],1),_vm._v(\" \"),_c('el-button',{staticClass:\"submit\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleLoginSubmit}},[_vm._v(\"\\n    登录\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 表单数据\r\n      form: {\r\n        username: \"13800138000\",\r\n        password: \"123456\",\r\n      },\r\n      // 表单规则\r\n      rules: {\r\n        // 这里是一个对象\r\n        // 以 key: value 的形式指定每个字段应该符合的规则\r\n        username: [\r\n          // 这里是规则数组, 里面每个元素都是一条需要校验的 rule\r\n          {\r\n            required: true,\r\n            message: \"请输入用户名\",\r\n            trigger: \"blur\",\r\n          },\r\n          {\r\n            pattern: /^1[3456789]\\d{9}$/,\r\n            message: \"请输入11位合法手机号\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: \"请输入密码\",\r\n            trigger: \"blur\",\r\n          },\r\n          {\r\n            min: 6,\r\n            message: \"密码必须6位以上\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 提交登录\r\n    handleLoginSubmit() {\r\n      // 发送登录之前, 校验整个表单\r\n      // 可以使用 form.validate() 函数\r\n      // 这个函数有两种使用方式\r\n      // 1. 回调形式\r\n      // this.$refs.form.validate((isValid, invalidObj)=>{\r\n      //     // 校验完毕会得到两个参数, 是否成功的布尔值, 不合法的字段集合\r\n      //     console.log(isValid);\r\n      //     console.log(invalidObj);\r\n      //     // 只要在这里查判断校验成功, 然后发送请求即可\r\n      //     if (isValid) {\r\n      //         // 发送登录请求\r\n      //     }\r\n      // })\r\n\r\n      // 2. promise 的形式\r\n      this.$refs.form\r\n        .validate()\r\n        .then((res) => {\r\n          console.log(res);\r\n          console.log(\"校验成功\");\r\n          if (res) {\r\n            // 发送请求\r\n            // this.$axios({\r\n            //     method: 'post',\r\n            //     url: '/accounts/login',\r\n            //     data: this.form\r\n            // }).then(res=>{\r\n            //     console.log(res.data);\r\n            //     this.$message.success('登录成功')\r\n            //     // 将获取的数据存放到 vuex 当中\r\n            //     // 利用 commit 调用 mutation\r\n            //     this.$store.commit('user/setUserInfo', res.data)\r\n            // })\r\n            // 弹窗删掉, 留给拦截器处理\r\n            // this.$store.commit('user/setUserInfo', this.form)\r\n            // 登录表单这里想要登录, 但是我自己不做登录请求\r\n            // 将这个请求封装到 vuex 里面, 让所有其他组件都能共用\r\n            // this.$store.dispatch() 两个参数, action 的地址, 第二是数据\r\n            this.$store.dispatch(\"user/login\", this.form).then((res) => {\r\n              this.$message.success(\"登录成功\");\r\n              this.$router.back();\r\n              this.$emit(\"logins\");\r\n              console.log(res);\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          console.log(\"校验失败\");\r\n        });\r\n\r\n      // 暂时不管登录的事情,只是打印出数据作为参考\r\n      console.log(this.form);\r\n    },\r\n    hideErrMsg(propName) {\r\n      // 拿到当前表单\r\n      // 调用清理错误信息的函数\r\n      // 传入需要清理的 prop\r\n      this.$refs.form.clearValidate(propName);\r\n    },\r\n  },\r\n};\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginForm.vue?vue&type=template&id=494839ac&scoped=true&\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./LoginForm.vue?vue&type=style&index=0&id=494839ac&scoped=true&lang=less&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"494839ac\",\n  \"08163f90\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{staticClass:\"form-item\",attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"placeholder\":\"用户名手机\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form-item\",attrs:{\"prop\":\"captcha\"}},[_c('el-input',{attrs:{\"placeholder\":\"验证码\"},model:{value:(_vm.form.captcha),callback:function ($$v) {_vm.$set(_vm.form, \"captcha\", $$v)},expression:\"form.captcha\"}},[_c('template',{slot:\"append\"},[_c('el-button',{on:{\"click\":_vm.handleSendCaptcha}},[_vm._v(\"\\n                    发送验证码\\n                \")])],1)],2)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form-item\",attrs:{\"prop\":\"nickname\"}},[_c('el-input',{attrs:{\"placeholder\":\"你的名字\"},model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", $$v)},expression:\"form.nickname\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form-item\",attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"密码\",\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"form-item\",attrs:{\"prop\":\"checkPassword\"}},[_c('el-input',{attrs:{\"placeholder\":\"确认密码\",\"type\":\"password\"},model:{value:(_vm.form.checkPassword),callback:function ($$v) {_vm.$set(_vm.form, \"checkPassword\", $$v)},expression:\"form.checkPassword\"}})],1),_vm._v(\" \"),_c('el-button',{staticClass:\"submit\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleRegSubmit}},[_vm._v(\"\\n        注册\\n    \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    data() {\n        // 因为校验函数只有在 data 这里面需要用到, \n        // 无需放入 methods 在这里直接声明即可\n        const validatePass = (rule, value, callback) => {\n            // rule 是当前规则对象\n            // value 是当前输入框的值\n            // callback 是一个放行的函数\n            // 如果需要报错, 则创建一个错误对象\n            // new Error(错误信息字符串)\n            // 将这个错误对象传入 callback 放行函数当中\n            // 饿了么就会自动报错\n\n            if (value == '') {\n                // 输出错误提示\n                callback(new Error('请再次输入密码'))\n            }else if(value != this.form.password) {\n                // 输出错误提示\n                callback(new Error('两次密码必须一致'))\n            }else {\n                // 输出成功回调\n                callback();\n            }\n        }\n\n        return {\n            form: {\n                username: \"\",\n                nickname: \"\",\n                captcha: \"\",\n                password: \"\",\n                checkPassword: \"\",\n            },\n            rules: {\n                username: [\n                    {\n                        required: true,\n                        message: \"该项不能为空\",\n                        trigger: \"blur\",\n                    },\n                    {\n                        min: 5,\n                        max: 11,\n                        message: \"请输入合法手机号\",\n                        trigger: \"blur\",\n                    },\n                ],\n                nickname: [\n                    {\n                        required: true,\n                        message: \"该项不能为空\",\n                        trigger: \"blur\",\n                    },\n                ],\n                captcha: [\n                    {\n                        required: true,\n                        message: \"该项不能为空\",\n                        trigger: \"blur\",\n                    }\n                ],\n                password: [\n                    {\n                        required: true,\n                        message: \"该项不能为空\",\n                        trigger: \"blur\",\n                    },\n                ],\n                checkPassword: [\n                    {\n                        //   验证规则里面, 有三个需要处理的变量\n                        //   1. 要求\n                        //   2. 提示语\n                        //   3. 触发\n                        // 最灵活的是一个函数校验形式, 只剩下触发条件需要声明\n                        // 其余全部放到函数 validator 里面\n                        //   required: true,\n                        //   message: '该项不能为空',\n                        validator: validatePass,\n                        trigger: \"blur\",\n                    },\n                ],\n            },\n        };\n    },\n    methods: {\n        handleRegSubmit() {\n            // 注册暂时啥都不干\n            // 只是先将 form 数据打印出来\n            console.log(this.form);\n\n            // 输入完全部数据, 需要做一次校验\n            // 发送请求即可(跟登录没什么差别)\n            this.$refs.form.validate().then(res=>{\n                console.log('校验成功');\n                // 所有数据都符合要求后, 发送请求\n\n                // 先用剩余参数语法将 checkPassword 排除掉\n                const {checkPassword, ...data} = this.form\n\n                this.$axios({\n                    method: 'post',\n                    url: '/accounts/register',\n                    data\n                }).then(res=>{\n                    console.log(res.data);\n                    // 注册成功\n                    this.$message.success('注册成功')\n\n                    // 自动登录, 将数据存放到 vuex 里面\n                    this.$store.commit('user/setUserInfo', res.data)\n                }).catch(err=>{\n                    console.dir(err)\n                })\n            }).catch(err=>{\n                console.log('校验失败');\n            })\n        },\n        handleSendCaptcha() {\n            this.$axios({\n                method: 'post',\n                url: '/captchas',\n                data: {\n                    tel: this.form.username\n                }\n            }).then(res=>{\n                console.log(res.data);\n                if (res.data.code) {\n                    this.$message.success('验证码发送成功: '+ res.data.code)\n                }\n            })\n        },\n    },\n};\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RegisterForm.vue?vue&type=template&id=435c5fab&scoped=true&\"\nimport script from \"./RegisterForm.vue?vue&type=script&lang=js&\"\nexport * from \"./RegisterForm.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./RegisterForm.vue?vue&type=style&index=0&id=435c5fab&scoped=true&lang=less&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"435c5fab\",\n  \"67349cd8\"\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=style&index=0&id=4ec5912c&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"0d2b6aa6\", content, true, context)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderForm.vue?vue&type=style&index=0&id=2e19f83f&scoped=true&lang=less&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"3d9f7176\", content, true, context)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=style&index=0&id=6f7cf82c&scoped=true&lang=less&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"d2bd4160\", content, true, context)\n};","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=style&index=0&id=4ec5912c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=style&index=0&id=4ec5912c&lang=less&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".container[data-v-4ec5912c]{width:1000px;margin:20px auto}.aside[data-v-4ec5912c]{width:350px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;border:1px solid #ddd}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderForm.vue?vue&type=style&index=0&id=2e19f83f&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderForm.vue?vue&type=style&index=0&id=2e19f83f&scoped=true&lang=less&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".air-column[data-v-2e19f83f]{border-bottom:1px dashed #ddd;padding-bottom:20px;margin-bottom:20px}.air-column h2[data-v-2e19f83f]{margin-bottom:20px;font-size:22px;font-weight:400}[data-v-2e19f83f] .el-select .el-input{width:130px}.input-with-select[data-v-2e19f83f]{width:590px}.input-with-select[data-v-2e19f83f] .el-input-group__prepend{background-color:#fff}.member-info-item[data-v-2e19f83f]{border-bottom:1px dashed #eee;padding-bottom:20px;position:relative}.member-info-item:first-child .delete-user[data-v-2e19f83f]{display:none}.add-member[data-v-2e19f83f]{margin-top:20px}.delete-user[data-v-2e19f83f]{display:block;background:#ddd;width:16px;height:16px;font-size:14px;text-align:center;line-height:16px;color:#fff;cursor:pointer;border-radius:50px;position:absolute;right:-30px;top:50%}.insurance>div[data-v-2e19f83f]{margin-top:10px}.insurance-item[data-v-2e19f83f]{margin-bottom:20px}.contact[data-v-2e19f83f] .el-input{width:50%}.submit[data-v-2e19f83f]{margin:50px auto;display:block;width:250px;height:50px}.container .main[data-v-2e19f83f]{height:100%;margin:0 auto;position:relative}.container .main .form-wrapper[data-v-2e19f83f]{width:400px;margin:0 auto;background:#fff;box-shadow:2px 2px 0 rgba(0,0,0,.1);overflow:hidden}.container .main .form-wrapper[data-v-2e19f83f] .el-input{width:100%!important}.container .main .form-wrapper .tabs span[data-v-2e19f83f]{display:block;width:50%;height:50px;box-sizing:border-box;border-top:2px solid #eee;background:#eee;line-height:48px;text-align:center;cursor:pointer;color:#666}.container .main .form-wrapper .tabs span.active[data-v-2e19f83f]{color:orange;border-top-color:orange;background:#fff;font-weight:700}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=style&index=0&id=6f7cf82c&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=style&index=0&id=6f7cf82c&scoped=true&lang=less&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".aside[data-v-6f7cf82c]{width:350px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;border:1px solid #ddd}.air-info[data-v-6f7cf82c]{padding:15px}.air-info .info-top[data-v-6f7cf82c]{margin-bottom:10px}.air-info .info-top>div[data-v-6f7cf82c]:last-child{font-size:14px}.air-info .info-step .flight-airport strong[data-v-6f7cf82c]{display:block;font-size:22px;font-weight:400}.air-info .info-step .flight-airport span[data-v-6f7cf82c]{font-size:12px;color:#999}.air-info .info-step .flight-time[data-v-6f7cf82c]{text-align:center;font-size:12px;color:#999}.air-info .info-step .flight-time span[data-v-6f7cf82c]{display:block}.info-bar[data-v-6f7cf82c]{border-top:1px dashed #ddd;padding:10px 15px;font-size:14px;color:#666}.info-bar .price[data-v-6f7cf82c]{font-size:28px;color:orange}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_vm._ssrNode(\"<div class=\\\"air-column\\\" data-v-2e19f83f>\",\"</div>\",[_vm._ssrNode(\"<h2 data-v-2e19f83f>乘机人</h2> \"),_c('el-form',{ref:\"usersForm\",staticClass:\"member-info\",attrs:{\"model\":{\n                users: _vm.users,\n            }}},_vm._l((_vm.users),function(user,index){return _c('div',{key:user.uid,staticClass:\"member-info-item\"},[_c('el-form-item',{attrs:{\"label\":\"乘机人姓名\",\"prop\":(\"users[\" + index + \"].username\"),\"rules\":[\n                        {\n                            required: true,\n                            message: '请输入数据',\n                            trigger: 'blur',\n                        } ]}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"姓名\"},model:{value:(user.username),callback:function ($$v) {_vm.$set(user, \"username\", $$v)},expression:\"user.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"身份证号码\",\"prop\":(\"users[\" + index + \"].id\"),\"rules\":[\n                        {\n                            required: true,\n                            message: '请输入数据',\n                            trigger: 'blur',\n                        } ]}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"证件号码\"},model:{value:(user.id),callback:function ($$v) {_vm.$set(user, \"id\", $$v)},expression:\"user.id\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"delete-user\",on:{\"click\":function($event){return _vm.handleDeleteUser(index)}}},[_vm._v(\"-\")])],1)}),0),_vm._ssrNode(\" \"),_c('el-button',{staticClass:\"add-member\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAddUsers}},[_vm._v(\"添加乘机人\")])],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"air-column\\\" data-v-2e19f83f>\",\"</div>\",[_vm._ssrNode(\"<h2 data-v-2e19f83f>保险</h2> \"),_vm._ssrNode(\"<div data-v-2e19f83f>\",\"</div>\",[_c('el-checkbox-group',{model:{value:(_vm.insurances),callback:function ($$v) {_vm.insurances=$$v},expression:\"insurances\"}},_vm._l((_vm.data.insurances),function(item){return _c('div',{key:item.id,staticClass:\"insurance-item\"},[_c('el-checkbox',{attrs:{\"label\":item.id,\"border\":\"\"}},[_vm._v(\"\\n                        \"+_vm._s(((item.type) + \": ￥\" + (item.price) + \"/份 x \" + (_vm.users.length) + \" 最高赔付 \" + (item.compensation)))+\"\\n                    \")])],1)}),0)],1),_vm._ssrNode(\" <h2 data-v-2e19f83f>发票</h2> \"),_vm._ssrNode(\"<div data-v-2e19f83f>\",\"</div>\",[_c('el-checkbox',{model:{value:(_vm.invoice),callback:function ($$v) {_vm.invoice=$$v},expression:\"invoice\"}},[_vm._v(\"需要发票\")])],1)],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"air-column\\\" data-v-2e19f83f>\",\"</div>\",[_vm._ssrNode(\"<h2 data-v-2e19f83f>联系人</h2> \"),_vm._ssrNode(\"<div class=\\\"contact\\\" data-v-2e19f83f>\",\"</div>\",[_c('el-form',{ref:\"contactForm\",attrs:{\"label-width\":\"80px\",\"model\":{\n                    contactName: _vm.contactName,\n                    contactPhone: _vm.contactPhone,\n                    captcha: _vm.captcha,\n                },\"rules\":_vm.contactRules}},[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"contactName\"}},[_c('el-input',{model:{value:(_vm.contactName),callback:function ($$v) {_vm.contactName=$$v},expression:\"contactName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"contactPhone\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.contactPhone),callback:function ($$v) {_vm.contactPhone=$$v},expression:\"contactPhone\"}},[_c('template',{slot:\"append\"},[_c('el-button',{on:{\"click\":_vm.handleSendCaptcha}},[_vm._v(\"发送验证码\")])],1)],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"captcha\"}},[_c('el-input',{model:{value:(_vm.captcha),callback:function ($$v) {_vm.captcha=$$v},expression:\"captcha\"}})],1)],1),_vm._ssrNode(\" \"),(_vm.$store.state.user.userInfo.token)?_c('el-button',{staticClass:\"submit\",attrs:{\"type\":\"warning\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"\\n                提交订单\\n            \")]):_c('div',{staticClass:\"container\"},[_c('el-row',{staticClass:\"main\",attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\"}},[_c('div',{staticClass:\"form-wrapper\"},[_c('el-row',{staticClass:\"tabs\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},_vm._l(([\"登录\", \"注册\"]),function(item,index){return _c('span',{key:index,class:{ active: _vm.currentTab === index },on:{\"click\":function($event){return _vm.handleChangeTab(index)}}},[_vm._v(\"\\n                                \"+_vm._s(item)+\"\\n                            \")])}),0),_vm._v(\" \"),(_vm.currentTab == 0)?_c('LoginForm'):_vm._e(),_vm._v(\" \"),(_vm.currentTab == 1)?_c('RegisterForm'):_vm._e()],1)])],1)],2)],2),_vm._ssrNode(\" <div style=\\\"display: none\\\" data-v-2e19f83f>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.totalPrice)+\"\\n    \")+\"</div>\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    props: {\n        data: Object,\n    },\n    data() {\n        return {\n            currentTab: 0,\n            // memberRules: {\n            //     // 遍历生成的字段这样写规则不靠谱\n            //     'users[0].username': [],\n            //     'users[0].id': [],\n            //     'users[1].username': [],\n            //     'users[1].id': [],\n            //     'users[2].username': [],\n            //     'users[2].id': [],\n            // },\n            contactRules: {\n                contactName: [\n                    {\n                        required: true,\n                        message: \"请输入数据\",\n                        trigger: \"blur\",\n                    },\n                ],\n                contactPhone: [\n                    {\n                        required: true,\n                        message: \"请输入数据\",\n                        trigger: \"blur\",\n                    },\n                ],\n                captcha: [\n                    {\n                        required: true,\n                        message: \"请输入数据\",\n                        trigger: \"blur\",\n                    },\n                ],\n            },\n            users: [\n                // 这里用来存放所有的乘机人\n                // 每个对象都是一个乘机人数据对象\n                {\n                    // 用户名\n                    username: \"哈哈\",\n                    // 身份证号\n                    id: \"450433222222222222\",\n                    uid: new Date().getTime(),\n                },\n            ],\n            insurances: [],\n            contactName: \"呵呵\",\n            contactPhone: \"13847474837\",\n            captcha: \"000000\",\n            invoice: false,\n        };\n    },\n    computed: {\n        totalPrice() {\n            const ticketPrice = this.data.base_price * this.users.length;\n            let insurancePrice = 0;\n\n            // 现在选中的checkList 应该是 this.insurances 格式类似 [1,2]\n            // 遍历里面的每个被选中的id\n            this.insurances.forEach((id) => {\n                // 遍历到的每个元素都是 id 如 1 或者 2\n                // 需要在整个保险数据中找出对应id的价格\n                // 保险对象在 this.data.insurances\n                // 结构大概是一个数组包裹保险数据对象\n                // [\n                //     {\n                //         id: 1,\n                //         price: 998\n                //     }\n                // ]\n                // 遍历这个数组, 找出对应 id 的价格\n                // 可以根据选中保险 id 计算出当前保险应该付多少钱的函数\n                insurancePrice += this.getInsurancePrice(id);\n            });\n\n            // this.insurances.forEach(element => {\n            //     // [1,2]\n            //     // 遍历选中的保险, 这里选中时的储存都是保险id\n            //     console.log(element);\n            //     // 拿到了id以后应该根据这个id获取保险的价格\n            //     this.data.insurances.forEach(insurance => {\n            //         if (insurance.id == element) {\n            //             // 拿到了当前选中 id 保险的价格,\n            //             // 应该乘以人数, 添加到总价上\n            //             insurancePrice += insurance.price * this.users.length\n            //         }\n            //     });\n            // });\n\n            console.log(insurancePrice);\n            const totalPrice = ticketPrice + insurancePrice;\n            // 得出了总价\n            this.$emit(\"setTotalPrice\", totalPrice);\n            console.log(\"计算总价\" + totalPrice);\n            return totalPrice;\n        },\n    },\n\n    methods: {\n        handleChangeTab(index) {\n            this.currentTab = index;\n        },\n        getInsurancePrice(id) {\n            // 可以根据选中保险 id 计算出当前保险应该付多少钱的函数\n            let res = 0;\n            this.data.insurances.forEach((element) => {\n                if (id == element.id) {\n                    res = element.price * this.users.length;\n                }\n            });\n            return res;\n        },\n        // 异步函数写成同步的样子\n        async handleSubmit() {\n            console.log(\"点击按钮提交\");\n            // 像 JSON.parse 一样 Promise 也自带一些方法\n            // 有一个 all 的方法, 可以通过传入一个由 promise 组成的数组\n            // 一起执行, 等到两个都完成以后, 才会返回一个对应传入数组的结果组成的数组\n            // Promise.all([this.$refs.usersForm.validate(),this.$refs.contactForm.validate()]).then(res=>{\n            //     if(res[0] && res[1]) {\n            //         console.log('发送请求');\n            //     }\n            // })\n\n            const [validUsers, validContact] = await Promise.all([\n                this.$refs.usersForm.validate(),\n                this.$refs.contactForm.validate(),\n            ]);\n            if (validUsers && validContact) {\n                this.sendRequest();\n            }\n        },\n        sendRequest() {\n            console.log(this.users);\n            console.log(this.insurances);\n            // 开始拼接数据\n            const data = {\n                users: this.users,\n                insurances: this.insurances,\n                contactName: this.contactName,\n                contactPhone: this.contactPhone,\n                invoice: this.invoice,\n                seat_xid: this.$route.query.seat_xid,\n                air: this.$route.query.id,\n                captcha: this.captcha,\n            };\n\n            this.$axios({\n                method: \"post\",\n                url: \"/airorders\",\n                headers: {\n                    Authorization:\n                        \"Bearer \" + this.$store.state.user.userInfo.token,\n                },\n                data,\n            }).then((res) => {\n                console.log(res.data);\n                // 下单成功, 跳转到订单页面\n                if (res.data.message = '订单提交成功') {\n                    this.$router.push('/air/pay?id='+res.data.data.id)\n                }\n            });\n        },\n        handleSendCaptcha() {\n            if (!this.contactPhone) {\n                this.$message.error(\"请先输入手机号\");\n                return;\n            }\n            // 添加合法校验\n            const regexp = /^1[3456789]\\d{9}$/;\n            if (!regexp.test(this.contactPhone)) {\n                this.$message.error(\"手机号不合法\");\n                return;\n            }\n\n            this.$axios({\n                method: \"post\",\n                url: \"/captchas\",\n                data: {\n                    tel: this.contactPhone,\n                },\n            }).then((res) => {\n                console.log(res.data);\n                if (res.data.code) {\n                    this.$message.success(\"发送成功：\" + res.data.code);\n                }\n            });\n        },\n        handleAddUsers() {\n            this.users.push({\n                // 用户名\n                username: \"\",\n                // 身份证号\n                id: \"\",\n                uid: new Date().getTime(),\n            });\n        },\n        handleDeleteUser(index) {\n            this.users.splice(index, 1);\n        },\n    },\n};\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderForm.vue?vue&type=template&id=2e19f83f&scoped=true&\"\nimport script from \"./OrderForm.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderForm.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./OrderForm.vue?vue&type=style&index=0&id=2e19f83f&scoped=true&lang=less&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"2e19f83f\",\n  \"9fbb7408\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {LoginForm: require('D:\\\\前端开发\\\\线下黑马学习\\\\07-Vue\\\\day21\\\\xingyue\\\\components\\\\user\\\\LoginForm.vue').default,RegisterForm: require('D:\\\\前端开发\\\\线下黑马学习\\\\07-Vue\\\\day21\\\\xingyue\\\\components\\\\user\\\\RegisterForm.vue').default})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"aside\"},[_vm._ssrNode(\"<div class=\\\"air-info\\\" data-v-6f7cf82c>\",\"</div>\",[_c('el-row',{staticClass:\"info-top\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('div',[_vm._v(_vm._s(_vm.data.dep_date))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.data.org_city_name)+\" - \"+_vm._s(_vm.data.dst_city_name))])]),_vm._ssrNode(\" \"),_c('el-row',{staticClass:\"info-step\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"align\":\"middle\"}},[_c('el-col',{staticClass:\"flight-airport\",attrs:{\"span\":5}},[_c('strong',[_vm._v(_vm._s(_vm.data.dep_time))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.data.org_airport_name)+_vm._s(_vm.data.org_airport_quay))])]),_vm._v(\" \"),_c('el-col',{staticClass:\"flight-time\",attrs:{\"span\":14}},[_c('span',[_vm._v(\"--- \"+_vm._s(_vm.rankTime)+\" ---\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.data.airline_name)+_vm._s(_vm.data.flight_no))])]),_vm._v(\" \"),_c('el-col',{staticClass:\"flight-airport\",attrs:{\"span\":5}},[_c('strong',[_vm._v(_vm._s(_vm.data.arr_time))]),_vm._v(\" \"),_c('span',[_vm._v(\"浦东机场T2\")])])],1)],2),_vm._ssrNode(\" \"),_c('el-row',{staticClass:\"info-bar\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('span',[_vm._v(\"订单总价\")]),_vm._v(\" \"),_c('span',[_vm._v(\"金额\")]),_vm._v(\" \"),_c('span',[_vm._v(\"数量\")])]),_vm._ssrNode(\" \"),_c('el-row',{staticClass:\"info-bar\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('span',[_vm._v(\"成人机票\")]),_vm._v(\" \"),_c('span',[_vm._v(\"￥\"+_vm._s(_vm.data.seat_infos.org_settle_price))]),_vm._v(\" \"),_c('span',[_vm._v(\"x1\")])]),_vm._ssrNode(\" \"),_c('el-row',{staticClass:\"info-bar\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('span',[_vm._v(\"机建＋燃油\")]),_vm._v(\" \"),_c('span',[_vm._v(\"¥\"+_vm._s(_vm.data.airport_tax_audlet)+\"/人/单程\")]),_vm._v(\" \"),_c('span',[_vm._v(\"x1\")])]),_vm._ssrNode(\" \"),_c('el-row',{staticClass:\"info-bar\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"align\":\"middle\"}},[_c('span',[_vm._v(\"应付总额：\")]),_vm._v(\" \"),_c('span',{staticClass:\"price\"},[_vm._v(\"￥ \"+_vm._s(_vm.totalPrice))])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    props: ['data', 'totalPrice'],\r\n    computed: {\r\n        rankTime(){\r\n            // 数据还未请求回来\r\n            if(!this.data.dep_time) return \"\";\r\n\r\n            // 转化为分钟\r\n            const dep = this.data.dep_time.split(\":\");\r\n            const arr = this.data.arr_time.split(\":\");\r\n            const depVal = dep[0] * 60 + +dep[1];\r\n            const arrVal = arr[0] * 60 + +arr[1];\r\n\r\n            // 到达时间相减得到分钟\r\n            let dis = arrVal - depVal;\r\n\r\n            // 如果是第二天凌晨时间段，需要加24小时\r\n            if(dis < 0){\r\n                dis = arrVal + 24 * 60 - depVal;\r\n            }\r\n\r\n            // 得到相差时间\r\n            return `${ Math.floor(dis / 60)}时${dis % 60}分`\r\n        }\r\n    },\r\n}\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderAside.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderAside.vue?vue&type=template&id=6f7cf82c&scoped=true&\"\nimport script from \"./OrderAside.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderAside.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./OrderAside.vue?vue&type=style&index=0&id=6f7cf82c&scoped=true&lang=less&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"6f7cf82c\",\n  \"25c7a730\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('div',{staticClass:\"main\"},[(_vm.flightData.id)?_c('OrderForm',{attrs:{\"data\":_vm.flightData},on:{\"setTotalPrice\":_vm.setTotalPrice}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"aside\"},[(_vm.flightData.id)?_c('OrderAside',{attrs:{\"data\":_vm.flightData,\"totalPrice\":_vm.totalPrice}}):_vm._e()],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    data() {\n        return {\n            flightData: {},\n            totalPrice: 0\n        }\n    },\n    // 父页面先获取机票数据\n    // 分别交给两个组件\n    created() {\n        this.$axios({\n            url: '/airs/' + this.$route.query.id,\n            params: {\n                seat_xid: this.$route.query.seat_xid\n            }\n        }).then(res=>{\n            console.log(res.data);\n            this.flightData = res.data\n        })\n    },\n    methods: {\n        setTotalPrice(newTotalPrice) {\n            this.totalPrice = newTotalPrice\n        }\n    }\n};\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./order.vue?vue&type=template&id=4ec5912c&scoped=true&\"\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./order.vue?vue&type=style&index=0&id=4ec5912c&lang=less&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"4ec5912c\",\n  \"30673bd2\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {OrderForm: require('D:\\\\前端开发\\\\线下黑马学习\\\\07-Vue\\\\day21\\\\xingyue\\\\components\\\\air\\\\OrderForm.vue').default,OrderAside: require('D:\\\\前端开发\\\\线下黑马学习\\\\07-Vue\\\\day21\\\\xingyue\\\\components\\\\air\\\\OrderAside.vue').default})\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginForm.vue?vue&type=style&index=0&id=494839ac&scoped=true&lang=less&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"0a2549cb\", content, true, context)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterForm.vue?vue&type=style&index=0&id=435c5fab&scoped=true&lang=less&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"0273269d\", content, true, context)\n};"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAtBA;AAPA;AAqCA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AA/DA;AAxCA;;AChCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AAJA;AAOA;AAEA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AApCA;AARA;AA2DA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAHA;AAOA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AA/CA;AArFA;;AC9CA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AACA;AAHA;AAMA;AAEA;AACA;AACA;AAHA;AAhBA;AAuBA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AAjDA;AAmDA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;AA8CA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AACA;AACA;AACA;AACA;AADA;AAIA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAHA;AAOA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AAAA;AACA;AACA;AACA;AAtGA;AAvGA;;AC7KA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1BA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAFA;;ACjDA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AApBA;;ACjBA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}