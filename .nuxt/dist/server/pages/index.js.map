{"version":3,"file":"pages/index.js","sources":["webpack:///./pages/index.vue?7cb3","webpack:///./pages/index.vue?3285","webpack:///./pages/index.vue?8af2","webpack:///./pages/index.vue?6c41","webpack:///./pages/index.vue","webpack:///./pages/index.vue?b1ff","webpack:///./pages/index.vue?b245"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3782dbc0&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"30c06b2b\", content, true, context)\n};","import mod from \"-!../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3782dbc0&lang=less&scoped=true&\"; export default mod; export * from \"-!../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3782dbc0&lang=less&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".container[data-v-3782dbc0]{min-width:1000px;margin:0 auto;position:relative}.container[data-v-3782dbc0] .el-carousel__container{height:700px}.container .banner-image[data-v-3782dbc0]{width:100%;height:100%}.container .banner-content[data-v-3782dbc0]{z-index:9;width:1000px;position:absolute;left:50%;top:45%;margin-left:-500px;border-top:1px solid transparent}.container .banner-content .search-bar[data-v-3782dbc0]{width:552px;margin:0 auto}.container .banner-content .search-tab .active i[data-v-3782dbc0]{color:#333}.container .banner-content .search-tab .active[data-v-3782dbc0]:after{background:#eee}.container .banner-content .search-tab span[data-v-3782dbc0]{width:82px;height:36px;display:block;position:relative;margin-right:8px;cursor:pointer}.container .banner-content .search-tab span i[data-v-3782dbc0]{position:absolute;z-index:2;display:block;width:100%;height:100%;line-height:30px;text-align:center;color:#fff}.container .banner-content .search-tab span[data-v-3782dbc0]:after{position:absolute;left:0;top:0;display:block;content:\\\"\\\";width:100%;height:100%;border:1px solid hsla(0,0%,100%,.2);border-bottom:none;transform:scale(1.1,1.3) perspective(.7em) rotateX(2.2deg);transform-origin:bottom left;background:rgba(0,0,0,.5);border-radius:1px 2px 0 0;box-sizing:border-box}.container .banner-content .search-input[data-v-3782dbc0]{width:550px;height:46px;background:#fff;border-radius:0 4px 4px 4px;border:1px solid hsla(0,0%,100%,.2);border-top:none;box-sizing:unset}.container .banner-content .search-input input[data-v-3782dbc0]{flex:1;height:20px;padding:13px 15px;outline:none;border:0;font-size:16px}.container .banner-content .search-input .el-icon-search[data-v-3782dbc0]{cursor:pointer;font-size:22px;padding:0 10px;font-weight:700}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-carousel',{attrs:{\"interval\":5000,\"arrow\":\"always\"}},_vm._l((_vm.banners),function(item,index){return _c('el-carousel-item',{key:index},[_c('div',{staticClass:\"banner-image\",style:((\"\\n            background:url(\" + (_vm.$axios.defaults.baseURL) + (item.url) + \") center center no-repeat;\\n            background-size:contain contain;\\n            \"))})])}),1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"banner-content\\\" data-v-3782dbc0>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"search-bar\\\" data-v-3782dbc0>\",\"</div>\",[_c('el-row',{staticClass:\"search-tab\",attrs:{\"type\":\"flex\"}},_vm._l((_vm.options),function(item,index){return _c('span',{key:index,class:{ active: index === _vm.currentOption },on:{\"click\":function($event){return _vm.handleOption(index)}}},[_c('i',[_vm._v(_vm._s(item.name))])])}),0),_vm._ssrNode(\" \"),_c('el-row',{staticClass:\"search-input\",attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchValue),expression:\"searchValue\"}],attrs:{\"placeholder\":_vm.options[_vm.currentOption].placeholder},domProps:{\"value\":(_vm.searchValue)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSearch($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchValue=$event.target.value}}}),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-search\",on:{\"click\":_vm.handleSearch}})])],2)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { Message } from \"element-ui\";\r\nexport default {\r\n    created() {\r\n        this.$axios({\r\n            url: \"/scenics/banners\",\r\n        }).then((res) => {\r\n            const { data } = res.data;\r\n            this.banners = data;\r\n        });\r\n    },\r\n    data() {\r\n        return {\r\n            banners: [],\r\n            currentOption: 0,\r\n            isLoading: false,\r\n            // 搜索内容\r\n            searchValue: \"\",\r\n            options: [\r\n                {\r\n                    name: \"攻略\",\r\n                    placeholder: \"搜索攻略\",\r\n                    pageUrl: \"/post?city=\",\r\n                },\r\n                {\r\n                    name: \"酒店\",\r\n                    placeholder: \"输入城市筛选酒店\",\r\n                    pageUrl: \"/hotel?cityName=\",\r\n                },\r\n                {\r\n                    name: \"机票\",\r\n                    placeholder: \"搜索机票\",\r\n                    pageUrl: \"/air\",\r\n                },\r\n            ],\r\n        };\r\n    },\r\n    methods: {\r\n        handleOption(index) {\r\n            // 如果点击的机票, 不需要显示输入框而是直接跳转即可\r\n            if (index == 2) {\r\n                this.$router.push(this.options[2].pageUrl);\r\n            } else {\r\n                this.currentOption = index;\r\n            }\r\n        },\r\n        handleSearch() {\r\n            // 防止多次点击 判断开门还是关门  true => return 关门   false => 继续执行 开门\r\n            if (this.isLoading) return;\r\n\r\n            // tab栏切换，定位到具体对象的\r\n            const optionItem = this.options[this.currentOption];\r\n\r\n            // 判断搜索为空或有空格时\r\n            if (this.searchValue.replace(/[ ]/g, \"\").length == 0) return;\r\n\r\n            this.isLoading = true;\r\n\r\n            // 发送请求检验输入的城市是否合法\r\n            this.$axios({\r\n                url: \"/cities?name=\" + this.searchValue,\r\n            }).then((res) => {\r\n                // 查询结果的数组长度为0\r\n                if (res.data.data.length == 0) {\r\n                    Message.error(\"您输入的城市不存在\");\r\n                    setTimeout(() => {\r\n                        this.isLoading = false;\r\n                    }, 1500);\r\n                } else {\r\n                    // 判断输入的字段是否带有'市'字\r\n                    if (this.searchValue.indexOf(\"市\") > -1) {\r\n                        // 跳转 带上搜索内容\r\n                        // 存在'市'，要去掉之后再跳转\r\n                        this.$router.push(\r\n                            optionItem.pageUrl +\r\n                                this.searchValue.replace(\"市\", \"\")\r\n                        );\r\n                    } else {\r\n                        // 不存在市就不用去掉，直接跳转\r\n                        this.$router.push(\r\n                            optionItem.pageUrl + this.searchValue\r\n                        );\r\n                    }\r\n                }\r\n            });\r\n        },\r\n    },\r\n};\r\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3782dbc0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.vue?vue&type=style&index=0&id=3782dbc0&lang=less&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"3782dbc0\",\n  \"a44fc330\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAjBA;AAwBA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAjDA;AAnCA;;AC9CA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}